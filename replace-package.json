{
  "name": "@magnolia/cli-light-module",
  "version": "0.0.1-snapshot",
  "description": "An npm package providing a CLI tool to setup and facilitate light development with Magnolia",
  "author": "Magnolia International Ltd.",
  "license": "GPL-3.0",
  "repository": {
    "type": "git",
    "url": "ssh://git@git.magnolia-cms.com/build/npm-cli.git"
  },
  "scripts": {
    "copy:nodeModules": "cp -rf ../node_modules/* ./node_modules/ && rm -r ../node_modules",
    "preinstall": "npm run copy:nodeModules",
    "printMessage": "echo \"Edit 'package.json' and run 'npm start'\"",
    "postinstall": "npm run printMessage",  
    
    "donwloadMagnolia": "echo 'Donwnload Magnolia Tomcat =>' && node ./bin/downloadMagnolia.js",
    "unzipMagnolia": "echo 'Unzip Magnolia into $setupMagnolia.tomcatFolder =>' && node ./bin/extractMagnolia.js",
    "downloadJars": "echo 'Install others maven modules  =>' && node ./bin/downloadJars.js",
    "editMagnoliaProperties": "echo 'Edit magnolia.properties files =>' && node ./bin/editMagnoliaProperties.js",
    "createFolders": "echo 'Create resources and light module folders in $config.outputPath  =>' && node ./bin/createFolders.js",
    "copyResources": "echo 'Copy resources  =>' && node ./bin/copyResources.js",
    "mgnlbuild": "echo 'Mgnlbuild: check dependecies for another light modules =>' && node ./bin/build.js",
    "watchBootstrap": "echo 'Watching bootstrap less files for changes =>' && node ./bin/watchBootstrap.js",

    "start": "npm run donwloadMagnolia && npm run unzipMagnolia && npm run downloadJars && npm run editMagnoliaProperties && npm run createFolders && npm run copyResources" ,
    "###start": "npm run donwloadMagnolia && npm run unzipMagnolia && npm run downloadJars && npm run editMagnoliaProperties && npm run createFolders && npm run copyResources && npm run mgnlbuild && npm run watchBootstrap &" 
  },
  "bin": {
    "create-page": "bin/createPage.js",
    "create-component": "bin/createComponent.js",
    "add-availability": "bin/addAvailability.js",
    "create-light-module": "bin/createFolders.js"
  },
  "dependencies": {
    "bootstrap-less": "^3.3.8",
    "font-awesome": "^4.5.0",
    "jquery": "^2.2.0"
  },  
  "setupMagnolia": {
    "downloadTomcatBundleFrom": "https://nexus.magnolia-cms.com/content/repositories/magnolia.public.releases/info/magnolia/bundle/magnolia-community-demo-bundle/5.4.5/magnolia-community-demo-bundle-5.4.5-tomcat-bundle.zip",
    "tomcatFolder": "../apache-tomcat",
    "webapps":{
      "magnoliaAuthor": {
        "modifyPropertyFile": "/default/magnolia.properties",
        "changes": {
          "magnolia.resources.dir": "${magnolia.home}/../../../light-modules",
          "magnolia.develop": true,
          "magnolia.update.auto": true
        }
      },
      "magnoliaPublic": {
        "modifyPropertyFile": "/default/magnolia.properties",
        "changes": {
          "magnolia.resources.dir": "${magnolia.home}/../../../light-modules",
          "magnolia.update.auto": true
        }
      }
    },
    "downloadJars":{
      "neat-resources-1.0.1":"https://nexus.magnolia-cms.com/service/local/repositories/magnolia.forge.releases/content/com/neatresults/mgnltweaks/neat-resources/1.0.1/neat-resources-1.0.1.jar"
    }
  },
  "config": {
    "outputPath": "../light-modules"
  },
  "lightModuleName":"sampleModule",
  "lightDevFoldersInModule": {
    "dialogs_components": "/dialogs/components",
    "dialogs_pages": "/dialogs/pages",
    "templates_components": "/templates/components",
    "templates_pages": "/templates/pages",
    "css": "/webresources/css",
    "cssWatch": "/webresources/css/bootstrap-less",
    "js": "/webresources/js",
    "fonts": "/webresources/fonts"
  },
  "lightDevCopyResources": {
    "./node_modules/jquery/dist/jquery.js": "js",
    "./node_modules/bootstrap-less/bootstrap": "cssWatch",
    "./node_modules/bootstrap-less/fonts": "fonts",
    "./node_modules/bootstrap-less/js/bootstrap.js": "js",
    "./node_modules/font-awesome/fonts": "fonts",
    "./node_modules/font-awesome/css/font-awesome.css": "css"
  }
}
